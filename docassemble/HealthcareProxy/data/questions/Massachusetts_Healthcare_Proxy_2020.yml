comment: |
  The metadata section controls the tab title and saved interview title. You can delete this section if you include this YAML file in another YAML file.
metadata:
  title: |
    Massachusetts Healthcare Proxy
  short title: |
    Healthcare Proxy
---
comment: |
  This section is used by MAVirtualCourts to control how some of the questions work.
mandatory: True
code: |
  interview_metadata # make sure we initialize the object
  if not defined("interview_metadata['Massachusetts_Healthcare_Proxy_2020']"):
    interview_metadata.initializeObject('Massachusetts_Healthcare_Proxy_2020')
  interview_metadata['Massachusetts_Healthcare_Proxy_2020'].update({
    'title': 'Massachusetts Healthcare Proxy',
    'short title': 'Healthcare Proxy',
    'description': 'This form can be used to assign a healthcare proxy.',
    'original_form': 'https://trello-attachments.s3.amazonaws.com/5e7a59002834604886a7b4e8/5f55974b2a95c35c6112ddd3/54c0cfbe2ec548bd84b0900c99de652f/Massachusetts_Healthcare_Proxy_20200909_update.pdf',
    'allowed courts': [
    ],
    'categories': [
      'Health and Mental Health',
    ],
    'logic block variable': 'Massachusetts_Healthcare_Proxy_2020',
    'attachment block variable': 'Massachusetts_Healthcare_Proxy_2020_attachment',
    'typical role': 'plaintiff',
  })
---
include:
  - docassemble.MAVirtualCourt:basic-questions.yml
---
features:
  navigation: True
---
sections:
  - review_Massachusetts_Healthcare_Proxy_2020: Review your answers
---
id: interview_order_Massachusetts_Healthcare_Proxy_2020
code: |
  # This is a placeholder to control logic flow in this interview

  basic_questions_intro_screen 
  Massachusetts_Healthcare_Proxy_2020_intro
  # Set the preferred/allowed courts for this interview
  allowed_courts = interview_metadata["Massachusetts_Healthcare_Proxy_2020"]["allowed courts"]
  nav.set_section('review_Massachusetts_Healthcare_Proxy_2020')
  principal_address_street
  agent_name
  agent_exceptions
  alternate_name
  petitioners[0].birthdate.format()
  str(petitioners[0])
  petitioners[0].address.address
  petitioners[0].address.city
  petitioners[0].address.zip
  petitioners[0].address.state
  signature_date
  str(witnesses[1])
  str(witnesses[0])
  witnesses[0].address.address
  witnesses[1].address.address
  witnesses[0].address.city
  witnesses[0].address.zip
  witnesses[0].address.state
  witnesses[1].address.zip
  witnesses[1].address.city
  witnesses[1].address.state
  Massachusetts_Healthcare_Proxy_2020_preview_question # Pre-canned preview screen
  basic_questions_signature_flow
  witnesses[0].signature
  petitioners[0].signature
  witnesses[1].signature
  Massachusetts_Healthcare_Proxy_2020 = True
---
comment: |
  This question is used to introduce your interview. Please customize
id: Massachusetts Healthcare Proxy
continue button field: Massachusetts_Healthcare_Proxy_2020_intro
question: |
  Massachusetts Healthcare Proxy
subquestion: |
  This form can be used to assign a healthcare proxy.
---
id: Placeholder preview screen
continue button field: Massachusetts_Healthcare_Proxy_2020_preview_question
question: |
  Placeholder preview screen
subquestion: |
  Here is a preview of the form you'll sign on the next page. 
  
   ${Massachusetts_Healthcare_Proxy_2020_attachment['preview']}
---
id: Tell us about yourself.
question: |
  Tell us about yourself.
subquestion: |
  Please enter your information in the fields below.
fields: 
  - 'Your full name': principal_name
  - 'Your address': principal_address_street
  - 'Your City': principal_address_city
  - 'Your State': principal_address_state
  - 'Your ZIP': principal_address_zip
---
id: Tell us about your healthcare proxy.
question: |
  Tell us about your Healthcare Proxy (Agent).
subquestion: |
  Your healthcare proxy, or Agent, will have the authority to make healthcare decisions on your behalf if you are unable to make them yourself. Please provide the information of the person you have elected to designate as your Agent. 
fields:
  - 'Agent Full Name ': agent_name
  - 'Agent Address': agent_address_street
  - 'Agent Street': agent_address_state
  - 'Agent City': agent_address_city
  - 'Agent ZIP': agent_address_zip
  - 'Agent Work Phone': agent_phone_work
  - 'Agent Email': agent_email
  - 'Agent Home Phone': agent_phone_home
---
id: List your limitations.
question: |
  List your limitations.
subquestion: |
   Please list the limitations, if any, you would like to place on your Agent's authority to make health care decisions on your behalf. If none, please continue to the next question.
fields:
  - 'Agent exceptions': agent_exceptions
    required: false 
---
id: Select an alternate
question: |
  Select an alternate.
subquestion: |
  In the event that your Agent is unwilling or unable to act on your behalf, you have the option to elect an alternate by providing the information below. 
fields:
  - 'Alternate Agent Name': alternate_name
    required: false
  - 'Alternate Agent Address': alternate_address_street
    required: false
  - 'Atlernate Agent City': atlernate_address_city
    required: false
  - 'Alternate Agent ZIP': alternate_address_zip
    required: false
  - 'Alternate Agent State': alternate_address_state
    required: false
  - 'Alternate phone': alternate_phone
    required: false    
---
progress: 100
mandatory: True
id: Placeholder download screen
question: |
  Placeholder download screen
subquestion: |
  Placeholder
  
  ### Next steps
  
  1. Step 1
  1. Step 2
  
  Below is a preview of your form.
  
  ${Massachusetts_Healthcare_Proxy_2020_attachment['final'] }
need: Massachusetts_Healthcare_Proxy_2020
attachment code: Massachusetts_Healthcare_Proxy_2020_attachment['final']
---
objects:
  - Massachusetts_Healthcare_Proxy_2020_attachment: DADict
---
attachment:
    variable name: Massachusetts_Healthcare_Proxy_2020_attachment[i]
    name: Healthcare Proxy
    filename: Healthcare_Proxy
    skip undefined: True
    pdf template file: Massachusetts_Healthcare_Proxy_20200909_update.pdf
    fields: 
      - "petitioner_birthdate": ${ petitioners[0].birthdate.format() }
      - "petitioner_name": ${ str(petitioners[0]) }
      - "petitioner_address_street": ${ petitioners[0].address.address }
      - "petitioner_address_city": ${ petitioners[0].address.city }
      - "petitioner_address_zip": ${ petitioners[0].address.zip }
      - "petitioner_address_state": ${ petitioners[0].address.state }
      - "signature_date": ${ signature_date }
      # If it is a signature, test which file version we're expecting. leave it empty unless it's the final attachment version
      - "petitioner_signature": ${ petitioners[0].signature if i == 'final' else '' }
      - "signature_date__1": ${ signature_date }
      # If it is a signature, test which file version we're expecting. leave it empty unless it's the final attachment version
      - "witness2_signature": ${ witnesses[1].signature if i == 'final' else '' }
      # If it is a signature, test which file version we're expecting. leave it empty unless it's the final attachment version
      - "witness1_signature": ${ witnesses[0].signature if i == 'final' else '' }
      - "witness2_name": ${ str(witnesses[1]) }
      - "witness1_name": ${ str(witnesses[0]) }
      - "witness1_address_street": ${ witnesses[0].address.address }
      - "witness2_address_street": ${ witnesses[1].address.address }
      - "witness1_address_city": ${ witnesses[0].address.city }
      - "witness1_address_zip": ${ witnesses[0].address.zip }
      - "witness1_address_state": ${ witnesses[0].address.state }
      - "witness2_address_zip": ${ witnesses[1].address.zip }
      - "witness2_address_city": ${ witnesses[1].address.city }
      - "witness2_address_state": ${ witnesses[1].address.state }
      - "agent_name": ${ agent_name }
      - "agent_address_street": ${ agent_address_street }
      - "agent_address_state": ${ agent_address_state }
      - "agent_address_city": ${ agent_address_city }
      - "agent_address_zip": ${ agent_address_zip }
      - "agent_phone_work": ${ agent_phone_work }
      - "agent_email": ${ agent_email }
      - "agent_phone_home": ${ agent_phone_home }
      - "alternate_name": ${ alternate_name }
      - "atlernate_address_city": ${ atlernate_address_city }
      - "alternate_address_zip": ${ alternate_address_zip }
      - "alternate_address_state": ${ alternate_address_state }
      - "alternate_address_street": ${ alternate_address_street }
      - "alternate_phone": ${ alternate_phone }
      - "agent_exceptions": ${ agent_exceptions }
      - "principal_address_street": ${ principal_address_street }
      - "principal_name": ${ principal_name }
      - "principal_address_city": ${ principal_address_city }
      - "principal_address_state": ${ principal_address_state }
      - "principal_address_zip": ${ principal_address_zip }
      - "agent_signature": ${ agent_signature }
      - "alternate_signature": ${ alternate_signature }
---
id: Massachusetts_Healthcare_Proxy_2020 review screen
event: review_Massachusetts_Healthcare_Proxy_2020
question: |
  Placeholder Review Screen
subquestion: |
  Edit your answers below
review: 
  - Edit: agent_name
    button: |
      Name of Agent:
      ${ agent_name }
  - Edit: agent_address_street
    button: |
      Address of Agent:
      ${ agent_address_street }
  - Edit: agent_address_state
    button: |
      State of Agent:
      ${ agent_address_state }
  - Edit: agent_address_city
    button: |
      City of Agent:
      ${ agent_address_city }
  - Edit: agent_address_zip
    button: |
      Zipcode of Agent:
      ${ agent_address_zip }
  - Edit: agent_phone_work
    button: |
      Agent work phone:
      ${ agent_phone_work }
  - Edit: agent_email
    button: |
      Agent email:
      ${ agent_email }
  - Edit: agent_phone_home
    button: |
      Agent home phone:
      ${ agent_phone_home }
  - Edit: alternate_name
    button: |
      Alternate name:
      ${ alternate_name }
  - Edit: atlernate_address_city
    button: |
      Atlernate city:
      ${ atlernate_address_city }
  - Edit: alternate_address_zip
    button: |
      Alternate zipcode:
      ${ alternate_address_zip }
  - Edit: alternate_address_state
    button: |
      Alternate state:
      ${ alternate_address_state }
  - Edit: alternate_address_street
    button: |
      Alternate street address:
      ${ alternate_address_street }
  - Edit: alternate_phone
    button: |
      Alternate phone:
      ${ alternate_phone }
  - Edit: agent_exceptions
    button: |
      Agent exceptions:
      ${ agent_exceptions }
  - Edit: principal_address_street
    button: |
      Principal address street:
      ${ principal_address_street }
  - Edit: principal_name
    button: |
      Principal name:
      ${ principal_name }
  - Edit: principal_address_city
    button: |
      Principal address city:
      ${ principal_address_city }
  - Edit: principal_address_state
    button: |
      Principal address state:
      ${ principal_address_state }
  - Edit: principal_address_zip
    button: |
      Principal address zip:
      ${ principal_address_zip }
  - Edit: petitioners[0].birthdate
    button: |
      petitioners[0].birthdate:
      ${ petitioners[0].birthdate }
  - Edit: petitioners[0]
    button: |
      petitioners[0]:
      ${ petitioners[0] }
  - Edit: petitioners[0].address.address
    button: |
      petitioners[0].address.address:
      ${ petitioners[0].address.address }
  - Edit: petitioners[0].address.city
    button: |
      petitioners[0].address.city:
      ${ petitioners[0].address.city }
  - Edit: petitioners[0].address.zip
    button: |
      petitioners[0].address.zip:
      ${ petitioners[0].address.zip }
  - Edit: petitioners[0].address.state
    button: |
      petitioners[0].address.state:
      ${ petitioners[0].address.state }
  - Edit: signature_date
    button: |
      signature_date:
      ${ signature_date }
  - Edit: petitioners[0].signature
    button: |
      petitioners[0].signature:
      ${ petitioners[0].signature }
  - Edit: witnesses[1].signature
    button: |
      witnesses[1].signature:
      ${ witnesses[1].signature }
  - Edit: witnesses[0].signature
    button: |
      witnesses[0].signature:
      ${ witnesses[0].signature }
  - Edit: witnesses[1]
    button: |
      witnesses[1]:
      ${ witnesses[1] }
  - Edit: witnesses[0]
    button: |
      witnesses[0]:
      ${ witnesses[0] }
  - Edit: witnesses[0].address.address
    button: |
      witnesses[0].address.address:
      ${ witnesses[0].address.address }
  - Edit: witnesses[1].address.address
    button: |
      witnesses[1].address.address:
      ${ witnesses[1].address.address }
  - Edit: witnesses[0].address.city
    button: |
      witnesses[0].address.city:
      ${ witnesses[0].address.city }
  - Edit: witnesses[0].address.zip
    button: |
      witnesses[0].address.zip:
      ${ witnesses[0].address.zip }
  - Edit: witnesses[0].address.state
    button: |
      witnesses[0].address.state:
      ${ witnesses[0].address.state }
  - Edit: witnesses[1].address.zip
    button: |
      witnesses[1].address.zip:
      ${ witnesses[1].address.zip }
  - Edit: witnesses[1].address.city
    button: |
      witnesses[1].address.city:
      ${ witnesses[1].address.city }
  - Edit: witnesses[1].address.state
    button: |
      witnesses[1].address.state:
      ${ witnesses[1].address.state }
  - Edit: agent_signature
    button: |
      agent_signature:
      ${ agent_signature }
  - Edit: alternate_signature
    button: |
      alternate_signature:
      ${ alternate_signature }
